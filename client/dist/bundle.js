(()=>{"use strict";(async()=>{const e=new URLSearchParams(window.location.search).get("sessionObj")||"";if(""!==e){const t=atob(e),o=JSON.parse(t);console.log("sessionObj",o),localStorage.setItem("session",JSON.stringify(o))}const t=localStorage.getItem("session")||"";if(""!==t){const e=document.getElementById("sessionDetails");e&&(e.innerText=t)}})(),document.getElementById("emailSubmitBtn")?.addEventListener("click",(()=>{const e=document.getElementById("email");!async function(e){const t=await fetch("https://okto-production.up.railway.app/api/email/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok)throw new Error("Network error!!!");const o=await t.json();window.localStorage.setItem("emailOtpToken",o.data.token)}(e?.value||"")})),document.getElementById("otpSubmitBtn")?.addEventListener("click",(async()=>{const e=document.getElementById("otp"),t=document.getElementById("email"),o=e?.value||"",n=t?.value||"",s=window.localStorage.getItem("emailOtpToken")||"",a=await async function(e,t,o){const n=await fetch("https://okto-production.up.railway.app/api/email/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp:t,token:o})});if(!n.ok)throw new Error("Network error!!!");const s=await n.json();return window.localStorage.setItem("sessionObj",s),s}(n,o,s),i=document.getElementById("sessionDetails");i&&(i.innerText=JSON.stringify(a))})),document.getElementById("tokenTransferSubmitBtn")?.addEventListener("click",(async()=>{const e=document.getElementById("receiptAddress").value||"",t=parseInt(document.getElementById("receiptAmount").value)||0,o=localStorage.getItem("session")||"";""!==o&&async function(e,t,o){const n=await fetch("https://okto-production.up.railway.app/api/token-transfer",{method:"POST",headers:{Authorization:`Bearer ${o.authToken}`,"Content-Type":"application/json"},body:JSON.stringify({senderAddress:e,senderAmount:t,sessionConfig:o.sessionConfig})});if(!n.ok)throw new Error("Network error!!!");await n.json()}(e,t,JSON.parse(o))}))})();