(()=>{"use strict";(async()=>{const e=new URLSearchParams(window.location.search).get("sessionObj")||"";if(""!==e){const t=atob(e),n=JSON.parse(t);console.log("sessionObj",n),localStorage.setItem("session",JSON.stringify(n))}const t=localStorage.getItem("session")||"";if(""!==t){const e=document.getElementById("sessionDetails");e&&(e.innerText=t)}})(),document.getElementById("emailSubmitBtn")?.addEventListener("click",(()=>{const e=document.getElementById("email");!async function(e){const t=await fetch("https://okto-production.up.railway.app/api/email/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok)throw new Error("Network error!!!");const n=await t.json();window.localStorage.setItem("emailOtpToken",n.data.token)}(e?.value||"")})),document.getElementById("otpSubmitBtn")?.addEventListener("click",(async()=>{const e=document.getElementById("otp"),t=document.getElementById("email"),n=e?.value||"",o=t?.value||"",s=window.localStorage.getItem("emailOtpToken")||"",a=await async function(e,t,n){const o=await fetch("https://okto-production.up.railway.app/api/email/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp:t,token:n})});if(!o.ok)throw new Error("Network error!!!");const s=await o.json();return window.localStorage.setItem("session",JSON.stringify(s)),s}(o,n,s),i=document.getElementById("sessionDetails");i&&(i.innerText=JSON.stringify(a))})),document.getElementById("tokenTransferSubmitBtn")?.addEventListener("click",(async()=>{const e=document.getElementById("receiptAddress").value||"",t=parseInt(document.getElementById("receiptAmount").value)||0,n=localStorage.getItem("session")||"";""!==n&&async function(e,t,n){const o=await fetch("https://okto-production.up.railway.app/api/token-transfer",{method:"POST",headers:{Authorization:`Bearer ${n.authToken}`,"Content-Type":"application/json"},body:JSON.stringify({senderAddress:e,senderAmount:t,sessionConfig:n.sessionConfig})});if(!o.ok)throw new Error("Network error!!!");await o.json()}(e,t,JSON.parse(n))}))})();